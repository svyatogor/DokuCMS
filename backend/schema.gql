scalar JSON

interface Block {
  _type: String!
  ref: ID
}

type StaticText implements Block {
  id: ID!
  ref: ID
  _type: String!
  content: JSON
  key: String
  global: Boolean
}

input StaticTextInput {
  id: ID
  content: String!
  locale: String!
  key: String
  global: Boolean
}

type Page {
  id: ID!
  slug: String
  published: Boolean
  layout: String
  parent: Page
  title: JSON
  linkText: JSON
  sections: JSON
  properties: JSON
  position: Int
}

type Site {
  id: ID!
  key: String!
  domains: [String!]
  allowedModules: [String!]!
  supportedLanguages: [String!]!
  layouts: JSON
  documentTypes: JSON
  features: [String!]
}

type Folder {
  id: ID!
  slug: String
  parent: ID
  name: JSON
  position: Int
}

type Item {
  id: ID!
  data: JSON
}

input PageInput {
  id: ID
  slug: String
  published: Boolean
  layout: String
  parent: ID
  title: String
  linkText: String
  properties: JSON
  position: Int
}

input BlockInput {
  page: ID!
  section: String!
  _type: String!
}

input BlockRefInput {
  page: ID!
  ref: ID!
}

input FolderInput {
  id: ID
  parent: ID
  catalog: String
  name: String!
  locale: String
}

type Query {
  pages: [Page]
  page(id: ID!): Page
  staticText(id: ID!): StaticText
  site: Site
  snippets: [StaticText]
  folders(catalog: String!): [Folder!]
  folder(id: ID!): Folder
  items(folder: ID!): [Item!]!
  item(id: ID!): Item
}

type Mutation {
  upsertPage(page: PageInput!, locale: String): Page
  orderPages(pages: [ID!]!): [Page]
  addBlock(block: BlockInput!): ID
  removeBlock(block: BlockRefInput!): Boolean
  saveStaticText(input: StaticTextInput!): StaticText
  attachImage(type: String!, id: ID!, url: String!): Boolean
  upsertItem(id: ID, folder: ID!, data: JSON!, locale: String): Item
  deleteItem(id: ID!): Boolean
  upsertFolder(folder: FolderInput!): Folder
  deleteFolder(id: ID!): Boolean
}