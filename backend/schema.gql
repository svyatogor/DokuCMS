scalar JSON

interface Block {
  _type: String!
  ref: ID
}

type StaticText implements Block {
  id: ID!
  ref: ID
  _type: String!
  content: JSON
  key: String
  global: Boolean
}


input StaticTextInput {
  id: ID
  content: String!
  locale: String!
  key: String
  global: Boolean
}

type Page {
  id: ID!
  slug: String
  published: Boolean
  layout: String
  parent: Page
  title: JSON
  linkText: JSON
  sections: JSON
  properties: JSON
}

type Site {
  id: ID!
  domains: [String!]
  allowedModules: [String!]!
  supportedLanguages: [String!]!
  layouts: JSON
}

input PageInput {
  id: ID
  slug: String
  published: Boolean
  layout: String
  parent: ID
  title: String
  linkText: String
  properties: JSON
}

input BlockInput {
  page: ID!
  section: String!
  _type: String!
}

input BlockRefInput {
  page: ID!
  ref: ID!
}

type Query {
  pages: [Page]
  page(id: ID!): Page
  staticText(id: ID!): StaticText
  site: Site
  snippets: [StaticText]
}

type Mutation {
  upsertPage(page: PageInput!, locale: String): Page
  addBlock(block: BlockInput!): ID
  removeBlock(block: BlockRefInput!): Boolean
  saveStaticText(input: StaticTextInput!): StaticText
  attachImage(type: String!, id: ID!, url: String!): Boolean
}